# Backend environment variables (example)
# Copy to .env for local dev. Do NOT commit real secrets.

PORT=5000
MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>/<db>?retryWrites=true&w=majority
JWT_SECRET=change_me
CORS_ORIGIN=http://localhost:5173

# SMTP (optional, for OTP emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=you@example.com
SMTP_PASS=your_app_password_here
SMTP_FROM="NoteFlow <you@example.com>"

# Cloudinary (recommended for production uploads)
CLOUDINARY_CLOUD_NAME=ddm9exv7w
CLOUDINARY_API_KEY=787674222458699
CLOUDINARY_API_SECRET=your_cloudinary_api_secret_here
CLOUDINARY_FOLDER=noteflow

# If true, server will reject uploads unless Cloudinary is configured.
# Recommended on hosts with ephemeral disk (e.g. Render).
REQUIRE_CLOUDINARY=true

# Optional: PDF auto-compression before Cloudinary upload (requires Ghostscript installed)
PDF_COMPRESS=true
PDF_CLOUDINARY_MAX_MB=10
# Preferred (multi-pass): try these presets in order, pick the smallest output
PDF_GS_QUALITIES=/ebook,/screen
# Optional: extra aggressive downsampling (smaller files, lower quality)
PDF_GS_AGGRESSIVE=true
# Legacy (single preset). Used only if PDF_GS_QUALITIES is not set.
# PDF_GS_QUALITY=/screen

# Optional: chunked upload (may help with large files; does not bypass plan limits)
# CLOUDINARY_USE_LARGE_UPLOAD=true

# If Ghostscript is not on PATH, provide full path (Windows example):
# GHOSTSCRIPT_PATH=C:\\Program Files\\gs\\gs10.06.0\\bin\\gswin64c.exe

# Debug: log upload timing (compression vs Cloudinary)
# DEBUG_UPLOAD_TIMING=true
